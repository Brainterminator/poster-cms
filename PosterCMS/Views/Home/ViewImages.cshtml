@model List<string>
@{
    var baseUrl = $"{Context.Request.Scheme}://{Context.Request.Host}/uploads/";
}

<h1>Uploaded Images</h1>

@if (Model.Count == 0)
{
    <p>No images uploaded yet.</p>
}
else
{
    <section class="poster-grid image-grid">
        @foreach (var fileName in Model)
        {
            var imageUrl = baseUrl + fileName;
            <article class="poster-preview">
                <button class="rm-img-btn" onclick="delete('@fileName')">Delete</button>
                <img src="@imageUrl">
                <p>@fileName</p>
                <button onclick="copyToClipboard('@imageUrl')">Copy URL</button>
            </article>
        }
    </section>
}

@section Scripts {
    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                console.log("Copied to clipboard!");
            }, (err) => {
                alert("Failed to copy: " + err);
            });
        }
    </script>
}
